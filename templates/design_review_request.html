{% extends "base.html" %}
{% block title %}Request a Design Review{% endblock %}
{% block content %}
<div class="container mt-5">
    <h2>Request a Design Review</h2>
    <form id="designReviewForm" method="post" enctype="multipart/form-data">
        <input type="hidden" id="completeness-score" name="completeness-score">
        <input type="hidden" id="skill-level-score" name="skill-level-score">
        <input type="hidden" id="application-status-score" name="application-status-score">
        <input type="hidden" id="use-case-score" name="use-case-score">
        <input type="hidden" id="data-volume-score" name="data-volume-score">
        <input type="hidden" id="uptime-sla-score" name="uptime-sla-score">
        <input type="hidden" id="previous-interaction-score" name="previous-interaction-score">
        <input type="hidden" id="total-score" name="total-score">

        <div id="step1" class="step">
            <h3>Basic Information</h3>
            <div class="mb-3">
                <label for="full-name" class="form-label">Full Name *</label>
                <input type="text" class="form-control" id="full_name" name="full_name" required>
            </div>
            <div class="mb-3">
                <label for="company-name" class="form-label">Company Name *</label>
                <input type="text" class="form-control" id="company_name" name="company_name" required>
            </div>
            <button type="button" class="btn btn-primary next-step">Next</button>
        </div>

        <div id="step2" class="step" style="display: none;">
            <h3>Project Details</h3>
            <div class="mb-3">
                <label for="application_status" class="form-label">What is the Application/Workload's status: *</label>
                <select class="form-select" id="application_status" name="application_status" required>
                    <option value="In design phase">In design phase</option>
                    <option value="In production">In production</option>
                    <option value="Not started">Not started</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="model-ready" class="form-label">Do you have a logical model, relational schema or draft document model ready to discuss in this session? *</label>
                <input type="text" class="form-control" id="model-ready" name="model-ready" required>
            </div>
            <div class="mb-3">
                <label for="project_description" class="form-label">Project name and short description (business function, tech stack and immediate challenges) *</label>
                <textarea class="form-control" id="project_description" name="project_description" rows="3" required></textarea>
            </div>
            <button type="button" class="btn btn-secondary prev-step">Previous</button>
            <button type="button" class="btn btn-primary next-step">Next</button>
        </div>

        <div id="step3" class="step" style="display: none;">
            <h3>Technical Details</h3>
            <div class="mb-3">
                <label for="skill_level" class="form-label">What is your MongoDB skill level? *</label>
                <select class="form-select" id="skill_level" name="skill_level" required>
                    <option value="Beginner">Beginner</option>
                    <option value="Intermediate">Intermediate</option>
                    <option value="Expert">Expert</option>
                    <option value="Never used before">Never used before</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="requirements" class="form-label">Please let us know any requirements you have relevant to your use case (future or current requirements): *</label>
                <select class="form-select" id="requirements" name="requirements" multiple required>
                    <option value="Transactional guarantees">Transactional guarantees</option>
                    <option value="Full-Text Search">Full-Text Search</option>
                    <option value="Cross-Region HA">Cross-Region HA</option>
                    <option value="Cloud to on-prem replication">Cloud to on-prem replication (or vice versa)</option>
                    <option value="Time series capabilities">Time series capabilities</option>
                    <option value="Data tiering Sharing">Data tiering Sharing (horizontal scaling)</option>
                    <option value="Multi-cloud">Multi-cloud</option>
                    <option value="Data modeling guidance">Data modeling guidance</option>
                    <option value="Development assistance/guidance">Development assistance/guidance</option>
                    <option value="Edge database">Edge database (mobile or otherwise)</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="data_size" class="form-label">Please share an estimate of the size of existing application data (GB/TB/PB) currently in production or estimated size in year 1: *</label>
                <input type="text" class="form-control" id="data_size" name="data_size" required>
            </div>
            <div class="mb-3">
                <label for="uptime_sla" class="form-label">Any uptime SLAs this application needs guaranteed? *</label>
                <textarea class="form-control" id="uptime_sla" name="uptime_sla" rows="2" required></textarea>
            </div>
            <div class="mb-3">
                <label for="cloud_provider" class="form-label">What cloud provider will this application be deployed in? *</label>
                <input type="text" class="form-control" id="cloud_provider" name="cloud_provider" required>
            </div>
            <button type="button" class="btn btn-secondary prev-step">Previous</button>
            <button type="button" class="btn btn-primary next-step">Next</button>
        </div>

        <div id="step4" class="step" style="display: none;">
            <h3>Additional Information</h3>
            <div class="mb-3">
                <label for="team_members" class="form-label">Is there anyone else from your team here today that you would like to be included in the session? *</label>
                <textarea class="form-control" id="team_members" name="team_members" rows="2" required></textarea>
            </div>
            <div class="mb-3">
                <label for="team_goals" class="form-label">Could you provide further details on what goals your team is pursuing, if they haven't been covered already? *</label>
                <textarea class="form-control" id="team_goals" name="team_goals" rows="2" required></textarea>
            </div>
            <div class="mb-3">
                <label for="sample_documents" class="form-label">Sample Documents</label>
                <input type="file" class="form-control" id="sample_documents" name="sample_documents" multiple>
            </div>
            <div class="mb-3">
                <label for="sample_queries" class="form-label">Sample Queries</label>
                <input type="file" class="form-control" id="sample_queries" name="sample_queries" multiple>
            </div>
            <button type="button" class="btn btn-secondary prev-step">Previous</button>
            <button type="submit" class="btn btn-primary">Submit Request</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/designReviewRequest.js') }}"></script>

{% endblock %}