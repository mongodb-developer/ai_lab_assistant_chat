<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - AI Lab Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">

</head>
<body>
    <!-- Include the navigation bar -->
    {% include 'navbar.html' %}

    <div class="container mt-4">
        <h1>About AI Lab Assistant</h1>
        <p>Welcome to the AI Lab Assistant application! This project is designed to demonstrate how MongoDB's advanced features, including MongoDB Atlas and VectorSearch, can be leveraged to build a robust question and answer system.</p>
        
        <h2>Purpose</h2>
        <p>The AI Lab Assistant aims to provide users with a platform for managing and answering questions efficiently. It is built to showcase the capabilities of MongoDB in handling real-world applications, particularly focusing on schema design best practices and aggregation pipeline optimizations.</p>
        
        <h2>Components</h2>
        <ul>
            <li><strong>User Management:</strong> A comprehensive interface for managing users, including the ability to toggle admin privileges.</li>
            <li><strong>Question Management:</strong> Admin functionalities to add, edit, and answer questions, with a rich text editor supporting Markdown.</li>
            <li><strong>Feedback System:</strong> A user-friendly feedback system to capture user opinions and improve the application.</li>
            <li><strong>MongoDB Atlas Integration:</strong> Leveraging MongoDB Atlas for hosting the database, ensuring high availability and performance.</li>
            <li><strong>Aggregation Pipeline Optimization:</strong> Demonstrating how to optimize data queries for faster response times.</li>
            <li><strong>Computed Design Pattern:</strong> Utilizing pre-calculated values to speed up frequent queries.</li>
            <li><strong>Extended Reference Pattern:</strong> Embedding related data to reduce the need for complex joins and improve query performance.</li>
        </ul>

        <h2 class="mt-4">How It Works</h2>
        <div class="flow-diagram-container">
            <img src="{{ url_for('static', filename='img/flow.svg') }}" alt="AI Lab Assistant Flow Diagram" class="img-fluid">
            <p class="mt-2 text-muted">Figure 1: Data flow in the AI Lab Assistant application</p>
        </div>
        <div class="mt-3">
            <p>The flow diagram above illustrates the process of how the AI Lab Assistant handles user questions:</p>
            <ol>
                <li>A user submits a question through the web interface.</li>
                <li>The question is sent to the server and an embedding is generated.</li>
                <li>The server searches for similar questions using MongoDB Vector Search.</li>
                <li>If a similar question is found, the existing answer is returned to the user.</li>
                <li>If no similar question is found, the server queries an LLM to generate an answer.</li>
                <li>The new question and answer are stored in MongoDB for future use.</li>
                <li>Administrators can update and answer questions, which updates the MongoDB database and regenerates embeddings as needed.</li>
            </ol>
        </div>

        <h2>Get Involved</h2>
        <p>We encourage you to fork the repository and review the code to gain a deeper understanding of how MongoDB VectorSearch can be implemented to build a similar system.</p>
        <p>Check out the project on GitHub: <a href="https://github.com/mongodb-developer/ai_lab_assistant_chat/">AI Lab Assistant Chat</a>.</p>
        <p>By exploring the code and the design patterns used, you can learn how to create scalable and efficient applications using MongoDB. Happy coding!</p>

        <div class="container mt-3">
            {% if changelog_content %}
            <div class="accordion" id="changelogAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="changelogHeading">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#changelogContent" aria-expanded="true" aria-controls="changelogContent">
                            Changelog
                        </button>
                    </h2>
                    <div id="changelogContent" class="accordion-collapse collapse show" aria-labelledby="changelogHeading" data-bs-parent="#changelogAccordion">
                        <div class="accordion-body">
                            <pre id="changelogText">{{ changelog_content | safe }}</pre>
                        </div>
                    </div>
                </div>
            </div>
            {% else %}
            <p>No changelog available.</p>
            {% endif %}
        </div>
    </div>

    <!-- Feedback section -->
    <div class="container mt-5" id="feedback-container">
        <button id="close-feedback" class="close-feedback-btn">&times;</button>
        <h2>We value your feedback!</h2>
        <p>Please rate your experience with our assistant:</p>
        <div id="feedback-scale" class="d-flex justify-content-center">
            <button class="feedback-button" data-value="1">üò°</button>
            <button class="feedback-button" data-value="2">üòü</button>
            <button class="feedback-button" data-value="3">üòê</button>
            <button class="feedback-button" data-value="4">üôÇ</button>
            <button class="feedback-button" data-value="5">üòç</button>
        </div>
        <p id="feedback-response" class="mt-3"></p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@3.0.7/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.2.9/purify.min.js"></script> <!-- Add DOMPurify library -->
    <script src="{{ url_for('static', filename='js/chat.js') }}" defer></script>
</body>
</html>
